<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Chase</title>
	<link rel="stylesheet" href="css/gamestyles.css">
	<script src="js/jquery.js"> </script>
    <script src="main.js"> </script>
	<script src="https://cdn.socket.io/socket.io-1.2.1.js"></script>
</head>

	<script>
		var socket = io();

		// Sending mouse position to others
		$(document).on("mousemove", function(event){
		    socket.emit('coordinates', {x: event.pageX, y: event.pageY} );
		});

		socket.on('joined', function(data){
			console.log('recieved a join event');
			addPlayer(data.id);
		});

		socket.on('otherPlayerMove', function(data){
			console.log('recieved other player move');
			var id = data.id;
			var coordinates = data.coordinates;
			var $players = $('.player');
			var $otherPlayer = $("." + id);
			console.log('other player is', $otherPlayer);
			movePlayer(id, coordinates);
		});

		//Move the target 
		socket.on('movement', function(multipliers){
			animateDiv(multipliers.hm, multipliers.wm);
		});

	</script>

<body>
	<div class="game">
		<div class="target"> </div>
	</div>
</body>
</html>